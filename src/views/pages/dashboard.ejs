<%- contentFor('content') %>
<div class="my-3 p-3 bg-white rounded box-shadow">
    <h6 class="border-bottom border-gray pb-2 mb-0">Apps List</h6>
    <div style="margin-top:20px">
        <table id="example" class="table table-striped table-bordered" style="width: 100%;">
            <thead>
                <tr>
                    <th class="text-center">App Title</th>
                    <th>App ID</th>
                    <th>Status</th>
                    <th>#</th>
                </tr>
            </thead>
            <tbody>
                <tr></tr>
            </tbody>
            <tfoot>
                <tr>
                    <th>App Title</th>
                    <th>App ID</th>
                    <th>Status</th>
                    <th>#</th>
                </tr>
            </tfoot>
        </table>
    </div>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        $("#example").DataTable({
            ajax: {
                url: "/api/ps/get",
                dataSrc: "",
            },
            columns: [{
                    data: "title"
                },
                {
                    data: "appId"
                },
                {
                    data: "status"
                },
                {
                    render: function (data, type, result, meta) {
                        if (result.status == 0) {
                            return (
                                '<a href="/repost/' +
                                btoa(result.appId) +
                                '/preview" target="_blank"><button type="button" class="btn btn-primary">Repost</button></a>'
                            );
                        }
                        return "";
                    },
                },
            ],
        });
    });
</script>